"use strict";angular.module("sjespersen.github.comApp",[]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/"})}]);var app=angular.module("sjespersen.github.comApp");app.controller("MainCtrl",["$scope","photoData",function(a,b){a.items=[],b.getAllItems().then(function(b){var c=angular.fromJson(b);a.items=c.photoset.photo;var d=a.items.length+1,e=parseInt(a.items[0].width_z,10)+10;$("#content").css("width",d*e+"px")},function(b){a.error=b})}]),app.config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"]}]),app.factory("photoData",["$http","$q",function(a,b){return{getAllItems:function(){var c=b.defer(),d="http://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=cbc7794d9c70c9c2a7d697ee9761366e&format=json&photoset_id=72157637290722265&extras=tags,url_z&nojsoncallback=1";return a.get(d).success(function(a){c.resolve(a)}).error(function(a){c.reject("An error occured while fetching items:"+a)}),c.promise}}}]);